// Minified from https://github.com/andresgallo/truStorage
class TruStorage{constructor(e,t){this.storageType=e||localStorage,t&&("string"==typeof t&&(t={key:t,type:{}}),this.storageType[t.key]=this.storageType[t.key]||JSON.stringify(t.type)),this.prefix=t?t.key+".":""}setItem(e,t,r){return TruStorage._readLocalObj.call(this,e,t,r)}getItem(e){return e||this.prefix.length?this.prefix&&!e?TruStorage._makeFormat(this.storageType[this.prefix.replace(".","")]):TruStorage._readLocalObj.call(this,e):this.storageType}clear(){this.storageType instanceof Storage?this.storageType.clear():this.storageType={}}removeItem(e){this.storageType instanceof Storage?this.storageType.removeItem(e.split(".")[0]):delete this.storageType[e.split(".")[0]]}get length(){return this.storageType.length}static _makeFormat(e){let t=e;try{e instanceof Array||(t=JSON.parse(e))}catch(e){}return t}static _readLocalObj(e,t,r){e=e||"",this.prefix.length&&(e=this.prefix+e),"object"==typeof t&&(t=JSON.stringify(t)),void 0===r&&(r=!1);const o=e.split("."),s=o.length;let a=this.storageType;const i=o[0];let n={},g=!1;void 0!==t&&(g=!0);for(let e=0;e<s;e++){let i=o[e];if(void 0===a||"object"!=typeof a)return console.warn("cannot append key to non object"),null;if(g&&e===s-1){if(r){let e=TruStorage._makeFormat(a[i]);e[r].apply(e,JSON.parse(t)),t=e}a[i]=t}if(g&&!("object"==typeof a&&i in a)){if(e===s-1)return null;a[i]={}}a=TruStorage._makeFormat(a[i]),0===e&&(n=a)}return g&&(this.storageType[i]=JSON.stringify(n)),a}}function getStorageObj(e){const t=new TruStorage((()=>{try{return e.setItem("test","test"),e.removeItem("test"),e}catch(e){return{}}})());return{setItem:t.setItem.bind(t),getItem:t.getItem.bind(t),removeItem:t.removeItem.bind(t),clear:t.clear.bind(t)}}const truStorage=(()=>getStorageObj(localStorage))(),truSessionStorage=(()=>getStorageObj(sessionStorage))();
